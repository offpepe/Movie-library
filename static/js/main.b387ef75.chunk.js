(this["webpackJsonpmovie-library"]=this["webpackJsonpmovie-library"]||[]).push([[0],{11:function(e,t,a){"use strict";(function(e){a.d(t,"g",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return j})),a.d(t,"d",(function(){return u})),a.d(t,"h",(function(){return b})),a.d(t,"c",(function(){return d})),a.d(t,"i",(function(){return h}));var n=a(7),r=a.n(n),c=a(9);e.fetch=a(69);var s=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,password:n})});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,t(s.token),localStorage.setItem("token",s.token),localStorage.setItem("email",a),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies");case 2:return e.next=4,e.sent.json();case 4:a=e.sent,n=a.movies,t(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,s,i,o,l,j,u,b,d,h,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,c=t.subtitle,s=t.genre,i=t.releaseDate,o=t.rate,l=t.description,j=t.cover,u=t.createdBy,b=t.createdAt,(d=new FormData).append("title",n),d.append("subtitle",c),d.append("genre",s),d.append("releaseDate",i),d.append("rate",o),d.append("description",l),d.append("createdAt",b),d.append("createdBy",u),d.append("cover",j),e.next=13,fetch("https://movie-library-api.herokuapp.com/movies/create",{method:"POST",headers:{Authorization:a},body:d});case 13:return h=e.sent,e.next=16,h.json();case 16:return O=e.sent,e.abrupt("return",O);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies/".concat(t));case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,a(n[0]),e.abrupt("return",n[0]);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies/update/".concat(t),{method:"PUT",headers:{Authorization:a},body:n});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies/delete/".concat(t),{method:"DELETE",headers:{Authorization:a}});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/validate/".concat(t));case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,a(40))},66:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),s=a.n(c),i=(a(66),a(19)),o=a(3),l=Object(n.createContext)(),j=a(0);function u(e){var t=e.children,a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),b={email:c,setEmail:s,token:u[0],setToken:u[1]};return Object(j.jsx)(l.Provider,{value:b,children:t})}var b=Object(n.createContext)();function d(e){var t=e.children,a=Object(n.useState)([]),r=Object(o.a)(a,2),c={movieList:r[0],setMovieList:r[1]};return Object(j.jsx)(b.Provider,{value:c,children:t})}var h=a(8),O=a(7),x=a.n(O),p=a(9),m=a(95),f=a(90),v=a(56),g=a(96),y=a(91),w=a(57),C=a(11);function S(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),u=s[0],b=s[1],d=Object(n.useState)(!1),O=Object(o.a)(d,2),S=O[0],k=O[1],N=Object(n.useState)(Object(j.jsx)("p",{children:" aten\xe7\xe3o: "})),D=Object(o.a)(N,2),L=D[0],T=D[1],A=Object(n.useState)(!1),E=Object(o.a)(A,2),F=E[0],I=E[1],z=Object(n.useContext)(l),M=z.setEmail,B=z.setToken,q=function(){var e=Object(p.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.g)(B,t,a);case 2:(n=e.sent).error&&(T(Object(j.jsxs)(m.a,{variant:"danger",children:[Object(j.jsxs)("h3",{children:["Erro: ",n.error]}),Object(j.jsxs)("p",{children:["C\xf3digo: ",n.code]}),Object(j.jsxs)("p",{children:["Mensagem: ",n.message]})]})),k(!0)),n.success&&(T(Object(j.jsx)(m.a,{variant:"success",children:Object(j.jsxs)("p",{children:[" ",n.message]})})),k(!0),M(t),I(!0)),setTimeout((function(){k(!1)}),3e3);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(j.jsxs)("main",{children:[Object(j.jsxs)(f.a,{children:[Object(j.jsxs)(v.a,{children:[Object(j.jsx)("h1",{children:" Movie Library "}),Object(j.jsx)(g.a,{children:Object(j.jsxs)(g.a.Group,{controlId:"userLogin",children:[Object(j.jsx)(g.a.Label,{children:"E-mail"}),Object(j.jsx)(g.a.Control,{type:"email",placeholder:"ada_love_1815@betrybe.com",onChange:function(e){return r(e.target.value)}}),Object(j.jsx)(g.a.Label,{children:" Password "}),Object(j.jsx)(g.a.Control,{type:"password",placeholder:"Senha",onChange:function(e){return b(e.target.value)}})]})})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(g.a.Check,{type:"checkbox",label:"Mantenha-me logado"}),Object(j.jsx)(w.a,{variant:"outline-primary",type:"button",onClick:function(){return q(a,u)},children:"Login"}),Object(j.jsx)(i.b,{to:"login/signIn",children:Object(j.jsx)("p",{children:"N\xe3o possuo uma conta :\\ "})})]})]}),S&&L,F&&Object(j.jsx)(h.a,{to:"/movies"})]})}var k=a(93),N=a(25),D=a.n(N);function L(e){var t=e.submitFormData,a=e.setDetails,r=e.setAlert,c=e.movie,s=c.title,i=c.subtitle,l=c.genre,u=(c.releaseDate,c.rate),b=c.description,d=Object(n.useState)(["Anima\xe7\xe3o","Com\xe9dia","Com\xe9dia Rom\xe2ntica","Document\xe1rio","Drama","Faroeste","Fic\xe7\xe3o Cient\xedfica","Musical","Suspense","Terror / Horror"]),h=Object(o.a)(d,1)[0],O=Object(n.useState)(u),x=Object(o.a)(O,2),p=x[0],m=x[1],v=(new Date).toLocaleDateString("pt-BR");return Object(j.jsx)(f.a,{className:"update-container",children:Object(j.jsxs)(g.a,{onSubmit:function(e){e.preventDefault();var a=e.target,n=a.newTitle,r=a.newSubtitle,c=a.newGenre,s=a.newReleaseDate,i=a.newRate,o=a.newDescription,l=a.newCover,j=new FormData;j.append("title",n.value),j.append("subtitle",r.value),j.append("genre",c.value),j.append("releaseDate",s.value),j.append("rate",i.value?i.value:u),j.append("description",o.value),j.append("cover",l.files[0]),j.append("lastUpdate",v),t(j)},className:"update-form",children:[Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:"T\xedtulo"})}),Object(j.jsx)(g.a.Control,{type:"text",name:"newTitle",value:s,size:"lg"}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:"Subt\xedtulo"})}),Object(j.jsx)(g.a.Control,{type:"text",name:"newSubtitle",value:i,size:"lg"}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:" G\xeanero "})}),Object(j.jsx)(g.a.Select,{name:"newGenre",value:l,children:h.map((function(e){return Object(j.jsx)("option",{value:e,children:e})}))}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:" Data de lan\xe7amento "})}),Object(j.jsx)(g.a.Control,{type:"date",name:"newReleaseDate",max:v,min:"1888-12-12"}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:"Avalia\xe7\xe3o"})}),Object(j.jsx)("div",{children:Object(j.jsx)(D.a,{name:"newRate",value:p,starCount:5,onStarClick:m})}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:"Descri\xe7\xe3o"})}),Object(j.jsx)(g.a.Control,{as:"textarea",name:"newDescription",style:{height:"100px"},value:b}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h3",{children:"Capa"})}),Object(j.jsx)(g.a.Control,{type:"file",name:"newCover",size:"lg"}),Object(j.jsxs)("div",{className:"update-btn",children:[Object(j.jsx)(w.a,{variant:"info",type:"submit",size:"lg",children:"Confirmar"}),Object(j.jsx)(w.a,{variant:"danger",onClick:function(){a("show"),r(!1)},size:"lg",children:"Cancelar"})]})]})})}var T=a(98),A=a(97),E=a(92);function F(e){var t=e.movie,a=t.title,r=t.subtitle,c=t.description,s=t.rate,i=t.releaseDate,l=t.genre,u=t.createdBy,b=t.createdAt,d=t.lastUpdate,h=t.cover,O=e.showConfirmation,m=e.email,f=e.handleDelete,v=e.setConfirmation,g=e.showDelError,y=e.errorAlert,S=e.setDetailStatus,k=Object(n.useState)({}),N=Object(o.a)(k,2),L=N[0],F=N[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(m);case 2:t=e.sent,F(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[m]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(T.a,{className:"movie-details-info",children:Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("section",{className:"movie-details-figure",children:Object(j.jsx)("img",{src:h,alt:"Cover of movie ".concat(a)})}),Object(j.jsxs)("section",{className:"movie-details-movie-data",children:[Object(j.jsx)(T.a.Title,{children:a}),Object(j.jsx)(T.a.Subtitle,{children:r}),Object(j.jsx)(T.a.Body,{children:Object(j.jsx)(T.a.Text,{children:c})}),Object(j.jsxs)(A.a,{variant:"info",children:[Object(j.jsx)(A.a.Item,{children:"Data de lan\xe7amento: ".concat(i)}),Object(j.jsx)(A.a.Item,{children:Object(j.jsx)("h3",{children:Object(j.jsx)(D.a,{starCount:s,value:s})})}),Object(j.jsx)(A.a.Item,{children:d?"Ultima atualiza\xe7\xe3o: ".concat(d):"Postado em: ".concat(b)}),Object(j.jsx)(A.a.Item,{children:"Criado por: ".concat(u)}),Object(j.jsx)(A.a.Item,{children:Object(j.jsx)("h4",{children:Object(j.jsx)(E.a,{pill:!0,variant:"dark",children:l})})}),L&&L.username===u&&Object(j.jsxs)(A.a.Item,{children:[Object(j.jsx)(w.a,{style:{margin:"0 5px"},variant:"outline-primary",size:"lg",onClick:function(){return S("update")},children:Object(j.jsx)("i",{class:"far fa-edit"})}),Object(j.jsx)(w.a,{style:{margin:"0 5px"},onClick:function(){return v(!0)},variant:"outline-danger",size:"lg",children:Object(j.jsx)("i",{class:"far fa-trash-alt"})})]})]}),O&&Object(j.jsx)("section",{className:"delete-box",children:Object(j.jsxs)(T.a,{className:"delete-card",children:[Object(j.jsx)(T.a.Header,{className:"delete-card-header",children:Object(j.jsx)(T.a.Title,{children:" Est\xe1 certo em deletar este filme? "})}),Object(j.jsx)(T.a.Body,{children:Object(j.jsx)(T.a.Subtitle,{children:" Esta opera\xe7\xe3o \xe9 irrevers\xedvel! "})}),Object(j.jsxs)(T.a.Footer,{className:"delete-card-footer",children:[Object(j.jsx)(w.a,{onClick:function(){return f()},variant:"danger",children:" Sim "}),Object(j.jsx)(w.a,{onClick:function(){return v(!1)},variant:"info",children:" N\xe3o "})]}),g&&y]})})]})]})})})}a(77);function I(){var e=Object(n.useContext)(l),t=e.token,a=e.email;t||(t=localStorage.getItem("token"),a=localStorage.getItem("email"));var r=Object(n.useState)({}),c=Object(o.a)(r,2),s=c[0],i=c[1],u=Object(n.useState)("show"),b=Object(o.a)(u,2),d=b[0],O=b[1],f=Object(n.useState)(!1),v=Object(o.a)(f,2),g=v[0],y=v[1],w=Object(n.useState)(!1),S=Object(o.a)(w,2),N=S[0],D=S[1],T=Object(n.useState)(Object(j.jsx)(j.Fragment,{})),A=Object(o.a)(T,2),E=A[0],I=A[1],z=Object(n.useState)(!1),M=Object(o.a)(z,2),B=M[0],q=M[1],H=Object(n.useState)(!1),P=Object(o.a)(H,2),R=P[0],_=P[1],G=Object(h.g)().id;Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(G,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[G]);var U=function(){var e=Object(p.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.h)(G,t,a);case 2:(n=e.sent).success&&(i(n.result),O("show")),n.error&&(I((r=n.error,c=n.code,s=n.message,Object(j.jsx)("div",{className:"error-popup",children:Object(j.jsxs)(m.a,{variant:"danger",onClose:function(){return y(!1)},dismissible:!0,children:[Object(j.jsx)(m.a.Heading,{as:"h3",children:"".concat(c," -> ").concat(r)}),Object(j.jsx)("p",{children:s})]})}))),y(!0));case 5:case"end":return e.stop()}var r,c,s}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.c)(G,t);case 2:(a=e.sent).error?(I((n=a.error,r=a.code,c=a.message,Object(j.jsxs)(m.a,{variant:"danger",onClose:function(){return q(!1)},dismissible:!0,children:[Object(j.jsx)(m.a.Heading,{as:"h3",children:"".concat(r," -> ").concat(n)}),Object(j.jsx)("p",{children:c})]}))),q(!0)):(I(Object(j.jsx)(m.a,{variant:"success",children:a.success})),q(!0),setTimeout((function(){return _(!0)}),400));case 4:case"end":return e.stop()}var n,r,c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:s?Object(j.jsxs)("main",{className:"details-main",children:["show"===d?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("main",{className:"movie-details",children:Object(j.jsx)(F,{movie:s,showConfirmation:N,email:a,handleDelete:J,setConfirmation:D,showDelError:B,errorAlert:E,setDetailStatus:O})})}):Object(j.jsx)(L,{submitFormData:U,setDetails:O,setAlert:y,setError:I,movie:s}),g&&E,R&&Object(j.jsx)(h.a,{to:"/movies"})]}):Object(j.jsxs)("div",{className:"spinner-box",children:[" ",Object(j.jsx)(k.a,{style:{width:"8rem",height:"8rem"},variant:"danger",animation:"border"})," "]})})}function z(e){var t=e.movie,a=e.setDispatch,r=e.submitNewMovie,c=e.alert,s=Object(n.useState)(),i=Object(o.a)(s,2),l=i[0],u=i[1],b=Object(n.useState)(!1),d=Object(o.a)(b,2),h=d[0],O=d[1],f=Object(n.useState)(!1),v=Object(o.a)(f,2),g=v[0],y=v[1],C=t.title,S=t.subtitle,k=t.genre,N=t.releaseDate,L=t.rate,A=t.description,F=t.cover,I=t.createdBy,z=t.createdAt;Object(n.useEffect)((function(){var e=function(e,t,a){return Object(j.jsxs)(m.a,{variant:"danger",onClose:function(){return O(!1)},dismissible:!0,children:[Object(j.jsx)(m.a.Heading,{as:"h3",children:"".concat(t," -> ").concat(e)}),Object(j.jsx)("p",{children:a})]})};c&&(O(!0),c.error?u(e(c.error,c.code,c.message)):c.success&&u(e(c.success,c.code,c.message)))}),[u,c]);var M=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("Loading..."),e.next=3,r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(T.a,{style:{width:"25rem"},className:"card-preview",children:[Object(j.jsx)(T.a.Img,{variant:"top",src:window.URL.createObjectURL(F),className:"card-preview-img"}),Object(j.jsxs)(T.a.Body,{children:[Object(j.jsx)(T.a.Title,{children:C}),Object(j.jsx)(T.a.Subtitle,{children:S}),Object(j.jsx)(T.a.Text,{children:A}),Object(j.jsxs)(T.a.Body,{className:"card-preview-info",children:[Object(j.jsx)("h4",{children:Object(j.jsx)(E.a,{pill:!0,bg:"dark",children:k})}),Object(j.jsx)("i",{className:"fas fa-question-circle",onClick:function(){y(!g)}})]}),Object(j.jsx)("div",{style:{fontSize:"30px"},children:Object(j.jsx)(D.a,{value:L,starCount:5})}),g&&Object(j.jsxs)("div",{className:"card-preview-more-info",children:[Object(j.jsxs)("p",{children:[" ","Data de Lan\xe7amento: ".concat(N," ")," "]}),Object(j.jsxs)("p",{children:[" ","Filme adicionado por: ".concat(I)," "]}),Object(j.jsxs)("p",{children:[" ","Adicionado em: ".concat(z)," "]})]})]}),Object(j.jsxs)(T.a.Body,{fluid:"md",className:"card-preview-footer",children:[Object(j.jsx)(w.a,{variant:"success",onClick:function(){return M()},children:" Adicionar "}),Object(j.jsx)(w.a,{variant:"danger",onClick:function(){return a()},children:" Cancelar "})]}),h&&Object(j.jsx)(T.a.Footer,{className:"card-preview-alert",children:c&&l})]})}a(78);function M(){var e=Object(n.useContext)(l),t=e.token,a=e.email;t&&a||(t=localStorage.getItem("token"),a=localStorage.getItem("email"));var r=Object(n.useState)({}),c=Object(o.a)(r,2),s=c[0],i=c[1],u=Object(n.useState)({}),b=Object(o.a)(u,2),d=b[0],O=b[1],y=Object(n.useState)(!1),S=Object(o.a)(y,2),k=S[0],N=S[1],L=Object(n.useState)(!1),T=Object(o.a)(L,2),A=T[0],E=T[1],F=Object(n.useState)({}),I=Object(o.a)(F,2),M=I[0],B=I[1],q=Object(n.useState)(!1),H=Object(o.a)(q,2),P=H[0],R=H[1],_=Object(n.useState)(1),G=Object(o.a)(_,2),U=G[0],J=G[1],W=Object(n.useState)(["Anima\xe7\xe3o","Com\xe9dia","Com\xe9dia Rom\xe2ntica","A\xe7\xe3o","Policial","Document\xe1rio","Drama","Faroeste","Fic\xe7\xe3o Cient\xedfica","Musical","Suspense","Terror / Horror"]),V=Object(o.a)(W,1)[0];Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(a);case 2:t=e.sent,i(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var K=function(){var e=Object(p.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.b)(d,t);case 2:a=e.sent,B(a),a.success&&setTimeout((function(){return E(!0)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=(new Date).toLocaleDateString("pt-BR");return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f.a,{className:"create-movie-main",children:Object(j.jsxs)("div",{style:{padding:"30px 0"},children:[Object(j.jsx)(v.a,{style:{textAlign:"center"},children:Object(j.jsx)("h1",{children:" Adicionar novo filme "})}),Object(j.jsx)(v.a,{className:"create-movie-form",children:Object(j.jsxs)(g.a,{onSubmit:function(e){e.preventDefault();var t=e.target,a=t.title,n=t.subtitle,r=t.description,c=t.genre,i=t.releaseDate,o=t.rate,l=t.cover;a.value&&n.value&&c.value&&i.value&&o.value&&r.value&&l.files[0]?(O({title:a.value,subtitle:n.value,genre:c.value,releaseDate:i.value,rate:o.value,description:r.value,cover:l.files[0],createdBy:s.username,createdAt:Q}),N(!0)):R(!0)},children:[Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h4",{children:"T\xedtulo"})}),Object(j.jsx)(g.a.Control,{type:"text",name:"title"}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h4",{children:"Subt\xedtulo"})}),Object(j.jsx)(g.a.Control,{type:"text",name:"subtitle"}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h4",{children:"G\xeanero"})}),Object(j.jsx)(g.a.Select,{name:"genre",children:V.map((function(e){return Object(j.jsx)("option",{value:e,children:e})}))}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h4",{children:"Data de lan\xe7amento"})}),Object(j.jsx)(g.a.Control,{type:"date",name:"releaseDate",max:Q,min:"1888-12-12"}),Object(j.jsxs)(g.a.Label,{children:[" ",Object(j.jsx)("h4",{children:"Avalia\xe7\xe3o"})," "]}),Object(j.jsx)(v.a,{style:{fontSize:"30px"},children:Object(j.jsx)(D.a,{name:"rate",value:U,starCount:5,onStarClick:J})}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h4",{children:"Descri\xe7\xe3o"})}),Object(j.jsx)(g.a.Control,{as:"textarea",name:"description",style:{height:"100px"}}),Object(j.jsx)(g.a.Label,{children:Object(j.jsx)("h4",{children:"Capa"})}),Object(j.jsx)(g.a.Control,{type:"file",name:"cover"}),Object(j.jsx)(w.a,{variant:"secondary",type:"submit",children:" Adicionar "})]})}),P&&Object(j.jsx)(m.a,{variant:"warning",onClose:function(){return R(!1)},dismissible:!0,children:Object(j.jsx)(m.a.Heading,{children:" Todos os campos precisam ser preenchidos "})})]})}),k&&Object(j.jsx)("section",{className:"card-preview-box",children:Object(j.jsx)(z,{movie:d,setDispatch:function(){N(!1),B({})},submitNewMovie:K,alert:M})}),A&&Object(j.jsx)(h.a,{to:"/movies"})]})}function B(e){var t=e.movie,a=t._id,n=t.title,r=t.rate,c=t.genre,s=t.cover;return Object(j.jsx)(j.Fragment,{children:t&&Object(j.jsxs)("div",{className:"card movie-card",children:[Object(j.jsx)("img",{src:s,alt:"cover of ".concat(n)}),Object(j.jsx)("div",{className:"card-content movie-card-content",children:Object(j.jsx)(i.b,{to:"/".concat(a),children:Object(j.jsxs)("div",{className:"movie-card-content-data",children:[Object(j.jsx)("h4",{className:"title",style:{color:"rgb(207, 204, 204)"},children:n}),Object(j.jsx)("h6",{children:c}),Object(j.jsx)("div",{children:Object(j.jsx)(D.a,{starCount:r,value:r})})]})})})]})})}a(79);var q=a(94),H=a(48);function P(e){var t=e.setToken,a=e.setEmail,r=Object(n.useState)({}),c=Object(o.a)(r,2),s=c[0],l=c[1],u=Object(n.useState)(!1),b=Object(o.a)(u,2),d=b[0],h=b[1];return Object(j.jsx)(g.a,{className:"login-form",onSubmit:function(){var e=Object(p.a)(x.a.mark((function e(n){var r,c,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=n.target,c=r.email,s=r.password,e.next=4,Object(C.g)(t,c.value,s.value);case 4:(i=e.sent).error?(l(i),h(!0)):(a(c),window.location.reload());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(j.jsxs)(H.a,{className:"login-form-group",style:{margin:"10px 0"},children:[Object(j.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(j.jsx)(g.a.Control,{className:"input",type:"email",name:"email",placeholder:"adalovelance@betrybe.com"}),Object(j.jsx)("span",{className:"icon is-small is-left",children:Object(j.jsx)("i",{className:"fas fa-envelope"})}),Object(j.jsx)("p",{style:{fontSize:"10px",margin:"3px"},children:Object(j.jsx)(i.b,{to:"/login/signIn",style:{textDecoration:"none"},children:"N\xe3o possui conta? Clique aqui! "})})]}),Object(j.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(j.jsx)(g.a.Control,{className:"input",type:"password",name:"password",placeholder:"adalovelance@betrybe.com"}),Object(j.jsx)("span",{className:"icon is-small is-left",children:Object(j.jsx)("i",{className:"fas fa-lock"})}),Object(j.jsx)("p",{style:{fontSize:"10px",margin:"3px"},children:Object(j.jsx)(i.b,{to:"/login/reset",style:{textDecoration:"none"},children:" Esqueci minha senha "})})]}),Object(j.jsx)("span",{className:"form-button-box",children:Object(j.jsx)(w.a,{variant:"success",type:"submit",children:" Logar "})}),Object(j.jsx)("div",{children:d&&Object(j.jsxs)(m.a,{variant:"danger",onClose:function(){return h(!1)},style:{width:"100%",textAlign:"center"},dismissible:!0,children:[Object(j.jsx)(m.a.Heading,{children:"Erro ".concat(s.code)}),Object(j.jsx)(m.a.Heading,{children:s.error}),Object(j.jsxs)("p",{children:[" ",s.message," "]})]})})]})})}function R(e){var t=e.user,a=e.loggout;return Object(j.jsxs)("div",{className:"card user-card",children:[Object(j.jsx)("figure",{className:"image is-128x128",children:Object(j.jsx)("img",{src:"https://www.gravatar.com/avatar/".concat(t.emailHash),title:"avatar provided by Gravatar",alt:"From Gravatar"})}),Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsx)("h3",{className:"title is-5",children:t.username}),Object(j.jsx)("p",{className:"title is-6",children:t.email})]}),Object(j.jsx)("footer",{className:"card-footer",children:Object(j.jsx)(w.a,{onClick:function(){return a()},className:"card-footer-item",variant:"danger",children:" Sair "})})]})}function _(){var e=Object(n.useContext)(l),t=e.email,a=e.setToken,r=e.setEmail,c=Object(n.useState)({}),s=Object(o.a)(c,2),u=s[0],b=s[1];Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(t);case 2:a=e.sent,b(a.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return Object(j.jsxs)("header",{className:"library-header",children:[Object(j.jsx)("div",{className:"logo-conteiner",style:{color:"yellow",fontSize:"30px"},children:Object(j.jsx)("i",{className:"fas fa-play"})}),Object(j.jsx)("div",{style:{color:"white"},children:Object(j.jsx)("h1",{children:" Movie Library "})}),Object(j.jsxs)("nav",{className:"button-group",children:[t&&Object(j.jsx)(i.b,{to:"/create",style:{textDecoration:"none"},children:Object(j.jsx)("h5",{style:{color:"white"},children:Object(j.jsx)("i",{class:"fas fa-plus"})})}),Object(j.jsxs)(q.a,{children:[Object(j.jsx)(q.a.Toggle,{variant:"dark",id:"dropdown-basic",children:Object(j.jsx)("h5",{style:{color:"white"},children:Object(j.jsx)("i",{className:"fas fa-user-circle"})})}),Object(j.jsx)(q.a.Menu,{className:"userMenu",children:t&&u?Object(j.jsx)(R,{user:u,loggout:function(){a(""),r(""),localStorage.clear()}}):Object(j.jsx)(P,{setToken:a,setEmail:r})})]}),Object(j.jsx)(i.b,{to:"/credits",style:{textDecoration:"none"},children:Object(j.jsx)("h5",{style:{color:"white",fontSize:"40px"},children:Object(j.jsx)("i",{className:"fas fa-info-circle"})})})]})]})}function G(){var e=Object(n.useContext)(l),t=e.setToken,a=e.setEmail,r=Object(n.useContext)(b),c=r.movieList,s=r.setMovieList;return Object(n.useEffect)((function(){var e=localStorage.getItem("token"),n=localStorage.getItem("email"),r=function(){var r=Object(p.a)(x.a.mark((function r(){return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(C.i)(e);case 2:r.sent.success?(t(e),a(n)):(t(),a(),localStorage.clear(),window.location.reload());case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();e&&r(),Object(C.e)(s)}),[a,s,t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_,{}),Object(j.jsx)(f.a,{children:c&&c.length>0?Object(j.jsx)("div",{className:"movie-card-group",children:c.map((function(e){return Object(j.jsx)(B,{movie:e})}))}):Object(j.jsxs)("div",{className:"spinner-box",children:[" ",Object(j.jsx)(k.a,{style:{width:"8rem",height:"8rem"},variant:"danger",animation:"border"})," "]})})]})}a(80);function U(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(n.useState)(Object(j.jsx)(j.Fragment,{})),b=Object(o.a)(u,2),d=b[0],O=b[1],v=function(e,t,a){return Object(j.jsxs)(m.a,{variant:"danger",onClose:function(){return l(!1)},dismissible:!0,children:[Object(j.jsx)(m.a.Heading,{as:"h3",children:"".concat(t," -> ").concat(e)}),Object(j.jsx)("p",{children:a})]})};return Object(j.jsxs)("main",{className:"sign-in-main",children:[Object(j.jsxs)(f.a,{className:"sign-in-conteiner",style:{paddingTop:"20px"},children:[Object(j.jsx)("h1",{style:{textAlign:"center"},children:" Criar usu\xe1rio "}),Object(j.jsxs)(g.a,{onSubmit:function(){var e=Object(p.a)(x.a.mark((function e(t){var a,n,c,s,i,o,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target,n=a.email,c=a.username,s=a.type,i=a.password,n.value&&c.value&&s.value&&i.value){e.next=6;break}alert("todos os campos precisam ser preenchidos"),e.next=11;break;case 6:return o={email:n.value,username:c.value,type:s.value,password:i.value},e.next=9,Object(C.a)(o);case 9:(u=e.sent).error?(O(v(u.error,u.code,u.message)),l(!0)):(O(Object(j.jsxs)(m.a,{variant:"success",onClose:function(){return l(!1)},children:[Object(j.jsx)(m.a.Heading,{children:u.success}),"Id de cria\xe7\xe3o: ".concat(u.insertedId)]})),l(!0),setTimeout((function(){return r(!0)}),500));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(j.jsxs)(g.a.Label,{children:[" ",Object(j.jsx)("h5",{children:"E-mail"})," "]}),Object(j.jsx)(g.a.Control,{type:"email",name:"email",placeholder:"linus_torvalds@windowsucks.gnu.com"}),Object(j.jsxs)(g.a.Label,{children:[" ",Object(j.jsx)("h5",{children:"Nome de usu\xe1rio"})," "]}),Object(j.jsx)(g.a.Control,{type:"text",name:"username",placeholder:"linus_gate_killer_69"}),Object(j.jsxs)(g.a.Label,{children:[" ",Object(j.jsx)("h5",{children:"Tipo"})," "]}),Object(j.jsxs)(g.a.Select,{name:"type",children:[Object(j.jsx)("option",{value:"reader",children:" Leitor "}),Object(j.jsx)("option",{value:"creator",children:" Criador "}),Object(j.jsx)("option",{value:"admin",children:" Administrador "})]}),Object(j.jsxs)(g.a.Label,{children:[" ",Object(j.jsx)("h5",{children:"Senha"})," "]}),Object(j.jsx)(g.a.Control,{type:"password",name:"password"}),Object(j.jsxs)("div",{className:"sign-in-buttonGroup",children:[Object(j.jsx)(w.a,{type:"submit",variant:"success",children:" Concluir "}),Object(j.jsx)(w.a,{type:"button",onClick:function(){return r(!0)},children:" Voltar "})]})]}),i&&d]}),a&&Object(j.jsx)(h.a,{to:"/movies"})]})}a(81);function J(){return Object(j.jsxs)("main",{className:"credits",children:[Object(j.jsx)("h1",{children:" Movie Library "}),Object(j.jsxs)("section",{className:"credits-article",children:[Object(j.jsx)("h5",{children:" Obrigado por testar minha aplica\xe7\xe3o \u2764"}),Object(j.jsx)("article",{children:"Aplica\xe7\xe3o completamente feita por Alan Albuquerque Ferreira Lopes. Esta aplica\xe7\xe3o faz parte de um projeto com intu\xedto did\xe1tico, chama-se Trybe NW+! Resumidamente, Trybe NW+ \xe9 onde farei todos os projetos da Trybe desde o M\xf3dulo de Front-End."})]}),Object(j.jsxs)("nav",{className:"credits-contact",children:[Object(j.jsx)("span",{children:Object(j.jsx)("a",{href:"https://www.linkedin.com/in/alanalbuquerq/",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("i",{className:"fab fa-linkedin-in"})})}),Object(j.jsx)("span",{children:Object(j.jsx)("a",{href:"http://github.com/offpepe/",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("i",{className:"fab fa-github"})})})]})]})}a(82);function W(){return Object(j.jsxs)("main",{className:"not-found-main",children:[Object(j.jsx)("h1",{children:Object(j.jsx)("i",{class:"fas fa-times-circle"})}),Object(j.jsx)("h2",{children:" Caminho n\xe3o encontrado :\\ "}),Object(j.jsx)("h4",{children:" Isto ocorre normalmente quando est\xe1 perdido, mas pode ser falha do programador! "}),Object(j.jsxs)("h6",{children:[" Caso acredite que seja uma falha, ",Object(j.jsx)("a",{href:"https://www.linkedin.com/in/alanalbuquerq/",target:"_blank",rel:"noreferrer",children:"d\xea o feedback aqui!"})," "]})]})}function V(){return Object(j.jsxs)(h.d,{children:[Object(j.jsx)(h.b,{exact:!0,path:"/login",children:Object(j.jsx)(S,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/login/signIn",children:Object(j.jsx)(U,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/create",children:Object(j.jsx)(M,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/",children:Object(j.jsx)(G,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/:id",children:Object(j.jsx)(I,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/credits",children:Object(j.jsx)(J,{})}),Object(j.jsx)(h.b,{children:Object(j.jsx)(W,{})})]})}function K(){return Object(j.jsx)(u,{children:Object(j.jsx)(d,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(V,{})})})})}var Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(83);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(K,{})}),document.getElementById("root")),Q()}},[[84,1,2]]]);
//# sourceMappingURL=main.b387ef75.chunk.js.map
(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{12:function(e,t,a){"use strict";(function(e){a.d(t,"g",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return j})),a.d(t,"d",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"c",(function(){return b})),a.d(t,"i",(function(){return h}));var n=a(7),r=a.n(n),c=a(9);e.fetch=a(71);var s=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,password:n})});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,t(s.token),localStorage.setItem("token",s.token),localStorage.setItem("email",a),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies");case 2:return e.next=4,e.sent.json();case 4:a=e.sent,n=a.movies,t(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c,s,i,o,l,j,u,d,b,h,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,c=t.subtitle,s=t.genre,i=t.releaseDate,o=t.rate,l=t.description,j=t.cover,u=t.createdBy,d=t.createdAt,(b=new FormData).append("title",n),b.append("subtitle",c),b.append("genre",s),b.append("releaseDate",i),b.append("rate",o),b.append("description",l),b.append("createdAt",d),b.append("createdBy",u),b.append("cover",j),e.next=13,fetch("https://movie-library-api.herokuapp.com/movies/create",{method:"POST",headers:{Authorization:a},body:b});case 13:return h=e.sent,e.next=16,h.json();case 16:return O=e.sent,e.abrupt("return",O);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies/".concat(t));case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,a(n[0]),e.abrupt("return",n[0]);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies/update/".concat(t),{method:"PUT",headers:{Authorization:a},body:n});case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/movies/delete/".concat(t),{method:"DELETE",headers:{Authorization:a}});case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://movie-library-api.herokuapp.com/users/validate/".concat(t));case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,a(40))},67:function(e,t,a){},72:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(30),c=a.n(r),s=a(21),i=a(3),o=Object(n.createContext)(),l=a(0);function j(e){var t=e.children,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],s=r[1],j=Object(n.useState)(""),u=Object(i.a)(j,2),d={email:c,setEmail:s,token:u[0],setToken:u[1]};return Object(l.jsx)(o.Provider,{value:d,children:t})}var u=Object(n.createContext)();function d(e){var t=e.children,a=Object(n.useState)([]),r=Object(i.a)(a,2),c={movieList:r[0],setMovieList:r[1]};return Object(l.jsx)(u.Provider,{value:c,children:t})}a(67);var b=a(8),h=a(7),O=a.n(h),x=a(9),p=a(94),m=a(92),f=a(90),v=a(95),g=a(55),w=a(23),y=a.n(w);function S(e){var t=e.submitFormData,a=e.setDetails,r=e.setAlert,c=e.movie,s=c.title,o=c.subtitle,j=c.genre,u=(c.releaseDate,c.rate),d=c.description,b=Object(n.useState)(["Anima\xe7\xe3o","Com\xe9dia","Com\xe9dia Rom\xe2ntica","Document\xe1rio","Drama","Faroeste","Fic\xe7\xe3o Cient\xedfica","Musical","Suspense","Terror / Horror"]),h=Object(i.a)(b,1)[0],O=Object(n.useState)(u),x=Object(i.a)(O,2),p=x[0],m=x[1],w=(new Date).toLocaleDateString("pt-BR");return Object(l.jsx)(f.a,{className:"update-container",children:Object(l.jsxs)(v.a,{onSubmit:function(e){e.preventDefault();var a=e.target,n=a.newTitle,r=a.newSubtitle,c=a.newGenre,s=a.newReleaseDate,i=a.newRate,o=a.newDescription,l=a.newCover,j=new FormData;j.append("title",n.value),j.append("subtitle",r.value),j.append("genre",c.value),j.append("releaseDate",s.value),j.append("rate",i.value?i.value:u),j.append("description",o.value),j.append("cover",l.files[0]),j.append("lastUpdate",w),t(j)},className:"update-form",children:[Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:"T\xedtulo"})}),Object(l.jsx)(v.a.Control,{type:"text",name:"newTitle",value:s,size:"lg"}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:"Subt\xedtulo"})}),Object(l.jsx)(v.a.Control,{type:"text",name:"newSubtitle",value:o,size:"lg"}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:" G\xeanero "})}),Object(l.jsx)(v.a.Select,{name:"newGenre",value:j,children:h.map((function(e){return Object(l.jsx)("option",{value:e,children:e})}))}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:" Data de lan\xe7amento "})}),Object(l.jsx)(v.a.Control,{type:"date",name:"newReleaseDate",max:w,min:"1888-12-12"}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:"Avalia\xe7\xe3o"})}),Object(l.jsx)("div",{children:Object(l.jsx)(y.a,{name:"newRate",value:p,starCount:5,onStarClick:m})}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:"Descri\xe7\xe3o"})}),Object(l.jsx)(v.a.Control,{as:"textarea",name:"newDescription",style:{height:"100px"},value:d}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h3",{children:"Capa"})}),Object(l.jsx)(v.a.Control,{type:"file",name:"newCover",size:"lg"}),Object(l.jsxs)("div",{className:"update-btn",children:[Object(l.jsx)(g.a,{variant:"info",type:"submit",size:"lg",children:"Confirmar"}),Object(l.jsx)(g.a,{variant:"danger",onClick:function(){a("show"),r(!1)},size:"lg",children:"Cancelar"})]})]})})}var C=a(97),N=a(96),k=a(91),D=a(12);function L(e){var t=e.movie,a=t.title,r=t.subtitle,c=t.description,s=t.rate,o=t.releaseDate,j=t.genre,u=t.createdBy,d=t.createdAt,b=t.lastUpdate,h=t.cover,p=e.showConfirmation,m=e.email,f=e.handleDelete,v=e.setConfirmation,w=e.showDelError,S=e.errorAlert,L=e.setDetailStatus,T=Object(n.useState)({}),A=Object(i.a)(T,2),F=A[0],E=A[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(m);case 2:t=e.sent,E(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[m]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(C.a,{className:"movie-details-info",children:Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)("section",{className:"movie-details-figure",children:Object(l.jsx)("img",{src:h,alt:"Cover of movie ".concat(a)})}),Object(l.jsxs)("section",{className:"movie-details-movie-data",children:[Object(l.jsx)(C.a.Title,{children:a}),Object(l.jsx)(C.a.Subtitle,{children:r}),Object(l.jsx)(C.a.Body,{children:Object(l.jsx)(C.a.Text,{children:c})}),Object(l.jsxs)(N.a,{variant:"info",children:[Object(l.jsx)(N.a.Item,{children:"Data de lan\xe7amento: ".concat(o)}),Object(l.jsx)(N.a.Item,{children:Object(l.jsx)("h3",{children:Object(l.jsx)(y.a,{starCount:s,value:s})})}),Object(l.jsx)(N.a.Item,{children:b?"Ultima atualiza\xe7\xe3o: ".concat(b):"Postado em: ".concat(d)}),Object(l.jsx)(N.a.Item,{children:"Criado por: ".concat(u)}),Object(l.jsx)(N.a.Item,{children:Object(l.jsx)("h4",{children:Object(l.jsx)(k.a,{pill:!0,variant:"dark",children:j})})}),F&&F.username===u&&Object(l.jsxs)(N.a.Item,{children:[Object(l.jsx)(g.a,{style:{margin:"0 5px"},variant:"outline-primary",size:"lg",onClick:function(){return L("update")},children:Object(l.jsx)("i",{class:"far fa-edit"})}),Object(l.jsx)(g.a,{style:{margin:"0 5px"},onClick:function(){return v(!0)},variant:"outline-danger",size:"lg",children:Object(l.jsx)("i",{class:"far fa-trash-alt"})})]})]}),p&&Object(l.jsx)("section",{className:"delete-box",children:Object(l.jsxs)(C.a,{className:"delete-card",children:[Object(l.jsx)(C.a.Header,{className:"delete-card-header",children:Object(l.jsx)(C.a.Title,{children:" Est\xe1 certo em deletar este filme? "})}),Object(l.jsx)(C.a.Body,{children:Object(l.jsx)(C.a.Subtitle,{children:" Esta opera\xe7\xe3o \xe9 irrevers\xedvel! "})}),Object(l.jsxs)(C.a.Footer,{className:"delete-card-footer",children:[Object(l.jsx)(g.a,{onClick:function(){return f()},variant:"danger",children:" Sim "}),Object(l.jsx)(g.a,{onClick:function(){return v(!1)},variant:"info",children:" N\xe3o "})]}),w&&S]})})]})]})})})}a(72);function T(){var e=Object(n.useContext)(o),t=e.token,a=e.email;t||(t=localStorage.getItem("token"),a=localStorage.getItem("email"));var r=Object(n.useState)({}),c=Object(i.a)(r,2),s=c[0],j=c[1],u=Object(n.useState)("show"),d=Object(i.a)(u,2),h=d[0],f=d[1],v=Object(n.useState)(!1),g=Object(i.a)(v,2),w=g[0],y=g[1],C=Object(n.useState)(!1),N=Object(i.a)(C,2),k=N[0],T=N[1],A=Object(n.useState)(Object(l.jsx)(l.Fragment,{})),F=Object(i.a)(A,2),E=F[0],I=F[1],z=Object(n.useState)(!1),B=Object(i.a)(z,2),q=B[0],H=B[1],M=Object(n.useState)(!1),R=Object(i.a)(M,2),P=R[0],_=R[1],G=Object(b.g)().id;Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)(G,j);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[G]);var U=function(){var e=Object(x.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.h)(G,t,a);case 2:(n=e.sent).success&&(j(n.result),f("show")),n.error&&(I((r=n.error,c=n.code,s=n.message,Object(l.jsx)("div",{className:"error-popup",children:Object(l.jsxs)(p.a,{variant:"danger",onClose:function(){return y(!1)},dismissible:!0,children:[Object(l.jsx)(p.a.Heading,{as:"h3",children:"".concat(c," -> ").concat(r)}),Object(l.jsx)("p",{children:s})]})}))),y(!0));case 5:case"end":return e.stop()}var r,c,s}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)(G,t);case 2:(a=e.sent).error?(I((n=a.error,r=a.code,c=a.message,Object(l.jsxs)(p.a,{variant:"danger",onClose:function(){return H(!1)},dismissible:!0,children:[Object(l.jsx)(p.a.Heading,{as:"h3",children:"".concat(r," -> ").concat(n)}),Object(l.jsx)("p",{children:c})]}))),H(!0)):(I(Object(l.jsx)(p.a,{variant:"success",children:a.success})),H(!0),setTimeout((function(){return _(!0)}),400));case 4:case"end":return e.stop()}var n,r,c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:s?Object(l.jsxs)("main",{className:"details-main",children:["show"===h?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("main",{className:"movie-details",children:Object(l.jsx)(L,{movie:s,showConfirmation:k,email:a,handleDelete:J,setConfirmation:T,showDelError:q,errorAlert:E,setDetailStatus:f})})}):Object(l.jsx)(S,{submitFormData:U,setDetails:f,setAlert:y,setError:I,movie:s}),w&&E,P&&Object(l.jsx)(b.a,{to:"/"})]}):Object(l.jsxs)("div",{className:"spinner-box",children:[" ",Object(l.jsx)(m.a,{style:{width:"8rem",height:"8rem"},variant:"danger",animation:"border"})," "]})})}var A=a(54);function F(e){var t=e.movie,a=e.setDispatch,r=e.submitNewMovie,c=e.alert,s=Object(n.useState)(),o=Object(i.a)(s,2),j=o[0],u=o[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),h=b[0],m=b[1],f=Object(n.useState)(!1),v=Object(i.a)(f,2),w=v[0],S=v[1],N=t.title,D=t.subtitle,L=t.genre,T=t.releaseDate,A=t.rate,F=t.description,E=t.cover,I=t.createdBy,z=t.createdAt;Object(n.useEffect)((function(){var e=function(e,t,a){return Object(l.jsxs)(p.a,{variant:"danger",onClose:function(){return m(!1)},dismissible:!0,children:[Object(l.jsx)(p.a.Heading,{as:"h3",children:"".concat(t," -> ").concat(e)}),Object(l.jsx)("p",{children:a})]})};c&&(m(!0),c.error?u(e(c.error,c.code,c.message)):c.success&&u(e(c.success,c.code,c.message)))}),[u,c]);var B=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("Loading..."),e.next=3,r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(C.a,{style:{width:"25rem"},className:"card-preview",children:[Object(l.jsx)(C.a.Img,{variant:"top",src:window.URL.createObjectURL(E),className:"card-preview-img"}),Object(l.jsxs)(C.a.Body,{children:[Object(l.jsx)(C.a.Title,{children:N}),Object(l.jsx)(C.a.Subtitle,{children:D}),Object(l.jsx)(C.a.Text,{children:F}),Object(l.jsxs)(C.a.Body,{className:"card-preview-info",children:[Object(l.jsx)("h4",{children:Object(l.jsx)(k.a,{pill:!0,bg:"dark",children:L})}),Object(l.jsx)("i",{className:"fas fa-question-circle",onClick:function(){S(!w)}})]}),Object(l.jsx)("div",{style:{fontSize:"30px"},children:Object(l.jsx)(y.a,{value:A,starCount:5})}),w&&Object(l.jsxs)("div",{className:"card-preview-more-info",children:[Object(l.jsxs)("p",{children:[" ","Data de Lan\xe7amento: ".concat(T," ")," "]}),Object(l.jsxs)("p",{children:[" ","Filme adicionado por: ".concat(I)," "]}),Object(l.jsxs)("p",{children:[" ","Adicionado em: ".concat(z)," "]})]})]}),Object(l.jsxs)(C.a.Body,{fluid:"md",className:"card-preview-footer",children:[Object(l.jsx)(g.a,{variant:"success",onClick:function(){return B()},children:" Adicionar "}),Object(l.jsx)(g.a,{variant:"danger",onClick:function(){return a()},children:" Cancelar "})]}),h&&Object(l.jsx)(C.a.Footer,{className:"card-preview-alert",children:c&&j})]})}a(78);function E(){var e=Object(n.useContext)(o),t=e.token,a=e.email;t&&a||(t=localStorage.getItem("token"),a=localStorage.getItem("email"));var r=Object(n.useState)({}),c=Object(i.a)(r,2),s=c[0],j=c[1],u=Object(n.useState)({}),d=Object(i.a)(u,2),h=d[0],m=d[1],w=Object(n.useState)(!1),S=Object(i.a)(w,2),C=S[0],N=S[1],k=Object(n.useState)(!1),L=Object(i.a)(k,2),T=L[0],E=L[1],I=Object(n.useState)({}),z=Object(i.a)(I,2),B=z[0],q=z[1],H=Object(n.useState)(!1),M=Object(i.a)(H,2),R=M[0],P=M[1],_=Object(n.useState)(1),G=Object(i.a)(_,2),U=G[0],J=G[1],W=Object(n.useState)(["Anima\xe7\xe3o","Com\xe9dia","Com\xe9dia Rom\xe2ntica","A\xe7\xe3o","Policial","Document\xe1rio","Drama","Faroeste","Fic\xe7\xe3o Cient\xedfica","Musical","Suspense","Terror / Horror"]),V=Object(i.a)(W,1)[0];Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(a);case 2:t=e.sent,j(t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var K=function(){var e=Object(x.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.b)(h,t);case 2:a=e.sent,q(a),a.success&&setTimeout((function(){return E(!0)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=(new Date).toLocaleDateString("pt-BR");return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f.a,{className:"create-movie-main",children:Object(l.jsxs)("div",{style:{padding:"30px 0"},children:[Object(l.jsx)(A.a,{style:{textAlign:"center"},children:Object(l.jsx)("h1",{children:" Adicionar novo filme "})}),Object(l.jsx)(A.a,{className:"create-movie-form",children:Object(l.jsxs)(v.a,{onSubmit:function(e){e.preventDefault();var t=e.target,a=t.title,n=t.subtitle,r=t.description,c=t.genre,i=t.releaseDate,o=t.rate,l=t.cover;a.value&&n.value&&c.value&&i.value&&o.value&&r.value&&l.files[0]?(m({title:a.value,subtitle:n.value,genre:c.value,releaseDate:i.value,rate:o.value,description:r.value,cover:l.files[0],createdBy:s.username,createdAt:Q}),N(!0)):P(!0)},children:[Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h4",{children:"T\xedtulo"})}),Object(l.jsx)(v.a.Control,{type:"text",name:"title"}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h4",{children:"Subt\xedtulo"})}),Object(l.jsx)(v.a.Control,{type:"text",name:"subtitle"}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h4",{children:"G\xeanero"})}),Object(l.jsx)(v.a.Select,{name:"genre",children:V.map((function(e){return Object(l.jsx)("option",{value:e,children:e})}))}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h4",{children:"Data de lan\xe7amento"})}),Object(l.jsx)(v.a.Control,{type:"date",name:"releaseDate",max:Q,min:"1888-12-12"}),Object(l.jsxs)(v.a.Label,{children:[" ",Object(l.jsx)("h4",{children:"Avalia\xe7\xe3o"})," "]}),Object(l.jsx)(A.a,{style:{fontSize:"30px"},children:Object(l.jsx)(y.a,{name:"rate",value:U,starCount:5,onStarClick:J})}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h4",{children:"Descri\xe7\xe3o"})}),Object(l.jsx)(v.a.Control,{as:"textarea",name:"description",style:{height:"100px"}}),Object(l.jsx)(v.a.Label,{children:Object(l.jsx)("h4",{children:"Capa"})}),Object(l.jsx)(v.a.Control,{type:"file",name:"cover"}),Object(l.jsx)(g.a,{variant:"secondary",type:"submit",children:" Adicionar "})]})}),R&&Object(l.jsx)(p.a,{variant:"warning",onClose:function(){return P(!1)},dismissible:!0,children:Object(l.jsx)(p.a.Heading,{children:" Todos os campos precisam ser preenchidos "})})]})}),C&&Object(l.jsx)("section",{className:"card-preview-box",children:Object(l.jsx)(F,{movie:h,setDispatch:function(){N(!1),q({})},submitNewMovie:K,alert:B})}),T&&Object(l.jsx)(b.a,{to:"/"})]})}function I(e){var t=e.movie,a=t._id,n=t.title,r=t.rate,c=t.genre,i=t.cover;return Object(l.jsx)(l.Fragment,{children:t&&Object(l.jsxs)("div",{className:"card movie-card",children:[Object(l.jsx)("img",{src:i,alt:"cover of ".concat(n)}),Object(l.jsx)("div",{className:"card-content movie-card-content",children:Object(l.jsx)(s.b,{to:"/".concat(a),children:Object(l.jsxs)("div",{className:"movie-card-content-data",children:[Object(l.jsx)("h4",{className:"title",style:{color:"rgb(207, 204, 204)"},children:n}),Object(l.jsx)("h6",{children:c}),Object(l.jsx)("div",{children:Object(l.jsx)(y.a,{starCount:r,value:r})})]})})})]})})}a(79);var z=a(93),B=a(46);function q(e){var t=e.setToken,a=e.setEmail,r=Object(n.useState)({}),c=Object(i.a)(r,2),o=c[0],j=c[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),b=d[0],h=d[1];return Object(l.jsx)(v.a,{className:"login-form",onSubmit:function(){var e=Object(x.a)(O.a.mark((function e(n){var r,c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=n.target,c=r.email,s=r.password,e.next=4,Object(D.g)(t,c.value,s.value);case 4:(i=e.sent).error?(j(i),h(!0)):(a(c),window.location.reload());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(l.jsxs)(B.a,{className:"login-form-group",style:{margin:"10px 0"},children:[Object(l.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(l.jsx)(v.a.Control,{className:"input",type:"email",name:"email",placeholder:"adalovelance@betrybe.com"}),Object(l.jsx)("span",{className:"icon is-small is-left",children:Object(l.jsx)("i",{className:"fas fa-envelope"})}),Object(l.jsx)("p",{style:{fontSize:"10px",margin:"3px"},children:Object(l.jsx)(s.b,{to:"/login/signIn",style:{textDecoration:"none"},children:"N\xe3o possui conta? Clique aqui! "})})]}),Object(l.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(l.jsx)(v.a.Control,{className:"input",type:"password",name:"password",placeholder:"adalovelance@betrybe.com"}),Object(l.jsx)("span",{className:"icon is-small is-left",children:Object(l.jsx)("i",{className:"fas fa-lock"})}),Object(l.jsx)("p",{style:{fontSize:"10px",margin:"3px"},children:Object(l.jsx)(s.b,{to:"/login/reset",style:{textDecoration:"none"},children:" Esqueci minha senha "})})]}),Object(l.jsx)("span",{className:"form-button-box",children:Object(l.jsx)(g.a,{variant:"success",type:"submit",children:" Logar "})}),Object(l.jsx)("div",{children:b&&Object(l.jsxs)(p.a,{variant:"danger",onClose:function(){return h(!1)},style:{width:"100%",textAlign:"center"},dismissible:!0,children:[Object(l.jsx)(p.a.Heading,{children:"Erro ".concat(o.code)}),Object(l.jsx)(p.a.Heading,{children:o.error}),Object(l.jsxs)("p",{children:[" ",o.message," "]})]})})]})})}function H(e){var t=e.user,a=e.loggout;return Object(l.jsxs)("div",{className:"card user-card",children:[Object(l.jsx)("figure",{className:"image is-128x128",children:Object(l.jsx)("img",{src:"https://www.gravatar.com/avatar/".concat(t.emailHash),title:"avatar provided by Gravatar",alt:"From Gravatar"})}),Object(l.jsxs)("div",{className:"card-content",children:[Object(l.jsx)("h3",{className:"title is-5",children:t.username}),Object(l.jsx)("p",{className:"title is-6",children:t.email})]}),Object(l.jsx)("footer",{className:"card-footer",children:Object(l.jsx)(g.a,{onClick:function(){return a()},className:"card-footer-item",variant:"danger",children:" Sair "})})]})}function M(){var e=Object(n.useContext)(o),t=e.email,a=e.setToken,r=e.setEmail,c=Object(n.useState)({}),j=Object(i.a)(c,2),u=j[0],d=j[1];Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(t);case 2:a=e.sent,d(a.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return Object(l.jsxs)("header",{className:"library-header",children:[Object(l.jsx)("div",{className:"logo-conteiner",style:{color:"yellow",fontSize:"30px"},children:Object(l.jsx)("i",{className:"fas fa-play"})}),Object(l.jsx)("div",{style:{color:"white"},children:Object(l.jsx)("h1",{children:" Movie Library "})}),Object(l.jsxs)("nav",{className:"button-group",children:[t&&Object(l.jsx)(s.b,{to:"/create",style:{textDecoration:"none"},children:Object(l.jsx)("h5",{style:{color:"white"},children:Object(l.jsx)("i",{class:"fas fa-plus"})})}),Object(l.jsxs)(z.a,{children:[Object(l.jsx)(z.a.Toggle,{variant:"dark",id:"dropdown-basic",children:Object(l.jsx)("h5",{style:{color:"white"},children:Object(l.jsx)("i",{className:"fas fa-user-circle"})})}),Object(l.jsx)(z.a.Menu,{className:"userMenu",children:t&&u?Object(l.jsx)(H,{user:u,loggout:function(){a(""),r(""),localStorage.clear()}}):Object(l.jsx)(q,{setToken:a,setEmail:r})})]}),Object(l.jsx)(s.b,{to:"/credits",style:{textDecoration:"none"},children:Object(l.jsx)("h5",{style:{color:"white",fontSize:"40px"},children:Object(l.jsx)("i",{className:"fas fa-info-circle"})})})]})]})}function R(){var e=Object(n.useContext)(o),t=e.setToken,a=e.setEmail,r=Object(n.useContext)(u),c=r.movieList,s=r.setMovieList;return Object(n.useEffect)((function(){var e=localStorage.getItem("token"),n=localStorage.getItem("email"),r=function(){var r=Object(x.a)(O.a.mark((function r(){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(D.i)(e);case 2:r.sent.success?(t(e),a(n)):(t(),a(),localStorage.clear(),window.location.reload());case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();e&&r(),Object(D.e)(s)}),[a,s,t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(M,{}),Object(l.jsx)(f.a,{children:c&&c.length>0?Object(l.jsx)("div",{className:"movie-card-group",children:c.map((function(e){return Object(l.jsx)(I,{movie:e})}))}):Object(l.jsxs)("div",{className:"spinner-box",children:[" ",Object(l.jsx)(m.a,{style:{width:"8rem",height:"8rem"},variant:"danger",animation:"border"})," "]})})]})}a(80);function P(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),o=s[0],j=s[1],u=Object(n.useState)(Object(l.jsx)(l.Fragment,{})),d=Object(i.a)(u,2),h=d[0],m=d[1],w=function(e,t,a){return Object(l.jsxs)(p.a,{variant:"danger",onClose:function(){return j(!1)},dismissible:!0,children:[Object(l.jsx)(p.a.Heading,{as:"h3",children:"".concat(t," -> ").concat(e)}),Object(l.jsx)("p",{children:a})]})};return Object(l.jsxs)("main",{className:"sign-in-main",children:[Object(l.jsxs)(f.a,{className:"sign-in-conteiner",style:{paddingTop:"20px"},children:[Object(l.jsx)("h1",{style:{textAlign:"center"},children:" Criar usu\xe1rio "}),Object(l.jsxs)(v.a,{onSubmit:function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n,c,s,i,o,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target,n=a.email,c=a.username,s=a.type,i=a.password,n.value&&c.value&&s.value&&i.value){e.next=6;break}alert("todos os campos precisam ser preenchidos"),e.next=11;break;case 6:return o={email:n.value,username:c.value,type:s.value,password:i.value},e.next=9,Object(D.a)(o);case 9:(u=e.sent).error?(m(w(u.error,u.code,u.message)),j(!0)):(m(Object(l.jsxs)(p.a,{variant:"success",onClose:function(){return j(!1)},children:[Object(l.jsx)(p.a.Heading,{children:u.success}),"Id de cria\xe7\xe3o: ".concat(u.insertedId)]})),j(!0),setTimeout((function(){return r(!0)}),500));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(l.jsxs)(v.a.Label,{children:[" ",Object(l.jsx)("h5",{children:"E-mail"})," "]}),Object(l.jsx)(v.a.Control,{type:"email",name:"email",placeholder:"linus_torvalds@windowsucks.gnu.com"}),Object(l.jsxs)(v.a.Label,{children:[" ",Object(l.jsx)("h5",{children:"Nome de usu\xe1rio"})," "]}),Object(l.jsx)(v.a.Control,{type:"text",name:"username",placeholder:"linus_gate_killer_69"}),Object(l.jsxs)(v.a.Label,{children:[" ",Object(l.jsx)("h5",{children:"Tipo"})," "]}),Object(l.jsxs)(v.a.Select,{name:"type",children:[Object(l.jsx)("option",{value:"reader",children:" Leitor "}),Object(l.jsx)("option",{value:"creator",children:" Criador "}),Object(l.jsx)("option",{value:"admin",children:" Administrador "})]}),Object(l.jsxs)(v.a.Label,{children:[" ",Object(l.jsx)("h5",{children:"Senha"})," "]}),Object(l.jsx)(v.a.Control,{type:"password",name:"password"}),Object(l.jsxs)("div",{className:"sign-in-buttonGroup",children:[Object(l.jsx)(g.a,{type:"submit",variant:"success",children:" Concluir "}),Object(l.jsx)(g.a,{type:"button",onClick:function(){return r(!0)},children:" Voltar "})]})]}),o&&h]}),a&&Object(l.jsx)(b.a,{to:"/"})]})}a(81);function _(){return Object(l.jsxs)("main",{className:"credits",children:[Object(l.jsx)("h1",{children:" Movie Library "}),Object(l.jsxs)("section",{className:"credits-article",children:[Object(l.jsx)("h5",{children:" Obrigado por testar minha aplica\xe7\xe3o \u2764"}),Object(l.jsx)("article",{children:"Aplica\xe7\xe3o completamente feita por Alan Albuquerque Ferreira Lopes. Esta aplica\xe7\xe3o faz parte de um projeto com intu\xedto did\xe1tico, chama-se Trybe NW+! Resumidamente, Trybe NW+ \xe9 onde farei todos os projetos da Trybe desde o M\xf3dulo de Front-End."})]}),Object(l.jsxs)("nav",{className:"credits-contact",children:[Object(l.jsx)("span",{children:Object(l.jsx)("a",{href:"https://www.linkedin.com/in/alanalbuquerq/",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("i",{className:"fab fa-linkedin-in"})})}),Object(l.jsx)("span",{children:Object(l.jsx)("a",{href:"http://github.com/offpepe/",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("i",{className:"fab fa-github"})})})]})]})}a(82);function G(){return Object(l.jsxs)("main",{className:"not-found-main",children:[Object(l.jsx)("h1",{children:Object(l.jsx)("i",{class:"fas fa-times-circle"})}),Object(l.jsx)("h2",{children:" Caminho n\xe3o encontrado :\\ "}),Object(l.jsx)("h4",{children:" Isto ocorre normalmente quando est\xe1 perdido, mas pode ser falha do programador! "}),Object(l.jsxs)("h6",{children:[" Caso acredite que seja uma falha, ",Object(l.jsx)("a",{href:"https://www.linkedin.com/in/alanalbuquerq/",target:"_blank",rel:"noreferrer",children:"d\xea o feedback aqui!"})," "]})]})}function U(){return Object(l.jsxs)(b.d,{children:[Object(l.jsx)(b.b,{exact:!0,path:"/",children:Object(l.jsx)(R,{})}),Object(l.jsx)(b.b,{exact:!0,path:"/:id",children:Object(l.jsx)(T,{})}),Object(l.jsx)(b.b,{exact:!0,path:"/signIn",children:Object(l.jsx)(P,{})}),Object(l.jsx)(b.b,{exact:!0,path:"/create",children:Object(l.jsx)(E,{})}),Object(l.jsx)(b.b,{exact:!0,path:"/credits",children:Object(l.jsx)(_,{})}),Object(l.jsx)(b.b,{children:Object(l.jsx)(G,{})})]})}function J(){return Object(l.jsx)(U,{})}var W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(83);c.a.render(Object(l.jsx)(j,{children:Object(l.jsx)(d,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(J,{})})})}),document.getElementById("root")),W()}},[[84,1,2]]]);
//# sourceMappingURL=main.69b4e257.chunk.js.map